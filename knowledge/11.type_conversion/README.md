# type_conversion

C++提供了几种类型转换操作符，用于在不同类型之间进行转换。

## rtti

RTTI（Run-Time Type Identification）是C++中的一种机制，用于在运行时获取对象的类型信息。

RTTI主要通过以下两个操作符来实现(typeid和dynamic_cast)。

## typeid

typeid是一个操作符，用于获取对象的类型信息。它返回一个std::type_info对象，该对象包含了对象的类型信息。typeid可以用于获取对象的类型名称、比较两个对象的类型是否相同等

## implicit_conversion

1. 隐式转换是指在不需要显式类型转换操作符的情况下，编译器自动将一种类型的值转换为另一种类型的值
2. 显式标识符（explicit）是一个关键字，用于修饰类的构造函数。当构造函数被声明为显式时，编译器将禁止隐式转换，即禁止使用单个参数的构造函数进行隐式类型转换

## dynamic_cast

dynamic_cast用于在具有继承关系的类指针或引用之间进行安全的向下转型。

如果转型失败，dynamic_cast会返回nullptr（对于指针）或抛出std::bad_cast异常（对于引用）

## static_cast

类型转换操作符，用于在编译时进行类型转换。主要转换情况：
- 基本数据类型之间的转换：例如，将 int 转换为 double，或将 float 转换为 int。
- 类层次结构中的转换：
  - 向上转型：将派生类指针或引用转换为基类指针或引用。这是安全的，因为派生类对象包含了基类的所有成员。
  - 向下转型：将基类指针或引用转换为派生类指针或引用。这是不安全的，因为基类对象可能不包含派生类的所有成员。在这种情况下，static_cast 不会进行运行时检查，因此可能会导致未定义行为。
- 将枚举类型转换为整数类型：例如，将枚举值转换为对应的整数值。
- 将指针或引用转换为void类型：这在需要传递通用指针或引用时很有用。
- 将void类型转换为指针或引用：这在需要从通用指针或引用中恢复具体类型时很有用。

## const_cast
类型转换操作符，用于在编译时去除指针或引用的const或volatile属性。主要转换情况：
- 将const指针或引用转换为非const指针或引用：这在需要将const指针传递给非const实参函数时非常有用。
- 将volatile指针或引用转换为非volatile指针或引用：这在需要将volatile指针传递给非volatile实参函数时非常有用。

## reinterpret_cast

类型转换操作符，用于在编译时进行任意类型的转换。主要转换情况：
- 将指针或引用转换为不同类型的指针或引用：这在需要将一种类型的指针或引用转换为另一种类型的指针或引用时非常有用。
- 将整数类型转换为指针类型：这在需要将整数类型的值解释为指针时非常有用。
- 将指针类型转换为整数类型：这在需要将指针的值解释为整数时非常有用。
